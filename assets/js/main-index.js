"use strict";$(document).ready(function(){function n(n,e){$(e).html(n)}function e(n,e){var s=n,i=Handlebars.templates[e],a=i(s);return a}function s(n,e,s,i){var a=s.find(n).data(e),o=i+a+".json";return o}function i(s,i,a){$.getJSON(s).then(function(n){return e(n,i)}).then(function(e){n(e,a)})}function a(s,i,a){$.getJSON(s).then(function(n){var s=e(n,i);return s}).then(function(e){n(e,a)}).then(function(){o()})}function o(){u.addClass("is-block"),setTimeout(function(){u.addClass("is-visible")},50),setTimeout(function(){d.addClass("is-in-position")},200)}function t(n,e,s,i){s.closest(n).find(e).removeClass(i).end().end().addClass(i)}function l(n,e,s){$(n).find(".languages-hidden").removeClass(s),$(e).addClass(s)}var c=$("nav"),u=$(".modal-overlay"),d=$(".modal-container"),g="../assets/json/languages/",r=$(".languagesNews__languages"),f=$("#1st"),m=$("#2nd"),v=$("#3rd"),h=function(){d.removeClass("is-in-position"),setTimeout(function(){u.removeClass("is-visible")},400),setTimeout(function(){u.removeClass("is-block")},600)};$(window).scroll(function(){var n=$(this).scrollTop(),e=$(".nav-logo"),s=c.height(),i=n>=s,a=n>=s+150;i?c.addClass("is-fixed"):c.removeClass("is-fixed"),a?e.addClass("logo-is-in-position"):e.removeClass("logo-is-in-position")});var C=function(){var n=$(this),e=n.parent().parent().find(".navigation"),s=e.find(".submenu"),i=s.hasClass("submenu-is-open"),a=n.find("svg");a.toggleClass("is-hidden"),i&&s.removeClass("submenu-is-open"),e.toggleClass("is-open")},p=function(){var n=$(window).width()<750,e=$(this);n&&e.find(".ch-down").toggleClass("is-hidden").end().find(".ch-up").toggleClass("is-hidden").end().find(".submenu").toggleClass("submenu-is-open")};c.on("click",".toggle-menu",C),c.on("click",".dropdown",p);var k=function(){var n=$(this),e=s(".notice-content","date",n,"../assets/json/news/cz/");a(e,"newTemplate","#modal-new")},w=function(){var i=$(this),a=s("h3","category",i,g);t(f,".language-item",i,"is-picked"),$.getJSON(a).then(function(n){var s=e(n,"languageTemplate");return s}).then(function(e){var s="../assets/json/languages/starobyle.json",i=a===s;i?(n(e,v),l(r,v,"is-flex")):(n(e,m),l(r,m,"is-flex"))})},b=function(){var n=$(this),i=s("h4","category",n,g);t("#2nd",".language-item",n,"is-picked"),$.getJSON(i).then(function(n){var s=e(n,"languageTemplate");return s}).then(function(n){v.html(n).addClass("is-flex")})},T=function(){var n=$(".languages-hidden");n.removeClass("is-flex"),f.find(".language-item").removeClass("is-picked")},x=function(){var n=m.hasClass("is-flex");v.removeClass("is-flex"),n?m.find(".language-item").removeClass("is-picked"):f.find(".language-item").removeClass("is-picked")};i("../assets/json/news/notices.json","noticesTemplate","#news"),$("#news").on("click",".notice",k),f.on("click",".language-item",w),m.on("click",".language-item",b),m.on("click",".languageTemplate__close",T),v.on("click",".languageTemplate__close",x),$(".modal").on("click",".close",h)});