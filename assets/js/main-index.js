"use strict";$(document).ready(function(){function n(n,e){$(e).html(n)}function e(n,e){var s=n,i=Handlebars.templates[e],a=i(s);return a}function s(n,e,s,i){var a=s.find(n).data(e),o=i+a+".json";return o}function i(s,i,a){$.getJSON(s).then(function(n){var s=e(n,i);return s}).then(function(e){n(e,a)})}function a(s,i,a){$.getJSON(s).then(function(n){var s=e(n,i);return s}).then(function(e){n(e,a)}).then(function(){o()})}function o(){d.addClass("is-block"),setTimeout(function(){d.addClass("is-visible")},50),setTimeout(function(){g.addClass("is-in-position")},200)}function t(n,e,s,i){s.closest(n).find(e).removeClass(i).end().end().addClass(i)}function l(n,e,s){$(n).find(".languages-hidden").removeClass(s),$(e).addClass(s)}var c=$("nav"),u=$(".nav-logo"),d=$(".modal-overlay"),g=$(".modal-container"),r="../assets/json/languages/",f=$(".languagesNews__languages"),m=$("#1st"),v=$("#2nd"),h=$("#3rd"),C=function(){g.removeClass("is-in-position"),setTimeout(function(){d.removeClass("is-visible")},400),setTimeout(function(){d.removeClass("is-block")},600)};$(window).scroll(function(){var n=$(this).scrollTop(),e=c.height(),s=($("#header"),n>=e),i=n>=e+150;s?c.addClass("is-fixed"):c.removeClass("is-fixed"),i?u.addClass("logo-is-in-position"):u.removeClass("logo-is-in-position")});var p=function(){var n=$(this),e=n.parent().parent().find(".navigation"),s=e.find(".submenu"),i=s.hasClass("submenu-is-open"),a=n.find("svg");a.toggleClass("is-hidden"),i&&s.removeClass("submenu-is-open"),e.toggleClass("is-open")},k=function(){var n=$(window).width()<750,e=$(this);n&&e.find(".ch-down").toggleClass("is-hidden").end().find(".ch-up").toggleClass("is-hidden").end().find(".submenu").toggleClass("submenu-is-open")};c.on("click",".toggle-menu",p),c.on("click",".dropdown",k);var w=function(){var n=$(this),e=s(".notice-content","date",n,"../assets/json/news/cz/");a(e,"newTemplate","#modal-new")},b=function(){var i=$(this),a=s("h3","category",i,r);t(m,".language-item",i,"is-picked"),$.getJSON(a).then(function(n){var s=e(n,"languageTemplate");return s}).then(function(e){var s="../assets/json/languages/starobyle.json",i=a===s;i?(n(e,h),l(f,h,"is-flex")):(n(e,v),l(f,v,"is-flex"))})},T=function(){var n=$(this),i=s("h4","category",n,r);t("#2nd",".language-item",n,"is-picked"),$.getJSON(i).then(function(n){var s=e(n,"languageTemplate");return s}).then(function(n){h.html(n).addClass("is-flex")})},x=function(){var n=$(".languages-hidden");n.removeClass("is-flex"),m.find(".language-item").removeClass("is-picked")},j=function(){var n=v.hasClass("is-flex");h.removeClass("is-flex"),n?v.find(".language-item").removeClass("is-picked"):m.find(".language-item").removeClass("is-picked")};i("../assets/json/news/notices.json","noticesTemplate","#news"),$("#news").on("click",".notice",w),m.on("click",".language-item",b),v.on("click",".language-item",T),v.on("click",".languageTemplate__close",x),h.on("click",".languageTemplate__close",j),$(".modal").on("click",".close",C)});